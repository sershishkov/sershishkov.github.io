{"version":3,"sources":["../../../src/js/interests_script.js"],"names":["SendGet","str","strThis","API_KEY","URL","encodeURIComponent","grid","document","getElementById","myData","fetch","then","response","ok","json","Error","data","hits","length","htmlGridTemplate","innerHTML","templsteGrid","_","template","Content","alert","catch","error","myInput","butSearch","addEventListener","myStr","value","event","preventDefault","keyCode","click"],"mappings":"AAAA;;AAEA,CAAC,YAAY;AACZ,UAASA,OAAT,CAAiBC,GAAjB,EAAsB;AACrB,MAAIC,UAAQD,GAAZ;AACA,MAAIE,UAAU,mCAAd;AACA,MAAIC,MAAM,kCAAkCD,OAAlC,GAA4C,KAA5C,GAAkDE,mBAAmBH,OAAnB,CAA5D;AACA,MAAII,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACA,MAAIC,SAASC,MAAMN,GAAN,EACXO,IADW,CACN,UAASC,QAAT,EAAmB;AACxB,OAAIA,SAASC,EAAb,EAAiB;AAChB,WAAOD,SAASE,IAAT,EAAP;AACA;AACD,SAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;AACA,GANW,EAOXJ,IAPW,CAON,UAASK,IAAT,EAAe;AACpB;AACA,OAAGA,KAAKC,IAAL,CAAUC,MAAV,GAAmB,CAAtB,EAAwB;AACvB,QAAIC,mBAAmBZ,SAASC,cAAT,CAAwB,eAAxB,EAAyCY,SAAhE;AACA,QAAIC,eAAeC,EAAEC,QAAF,CAAWJ,gBAAX,CAAnB;AACA,QAAIK,UAAUH,aAAa,EAAC,QAAQL,KAAKC,IAAd,EAAb,CAAd;AACAX,SAAKc,SAAL,GAAiBI,OAAjB;AACA,WAAOlB,IAAP;AACA,IAND,MAMK;AACJmB,UAAM,kBAAN;AACA;AACD,GAlBW,EAmBXC,KAnBW,CAmBL,UAAUC,KAAV,EAAiB,CAEvB,CArBW,CAAb;AAwBA;AACD3B,SAAS,GAAT;;AAED;;AAEC,KAAI4B,UAAUrB,SAASC,cAAT,CAAwB,SAAxB,CAAd;AACA,KAAIqB,YAAYtB,SAASC,cAAT,CAAwB,WAAxB,CAAhB;AACAqB,WAAUC,gBAAV,CAA2B,OAA3B,EAAmC,YAAY;;AAE9C,MAAIC,QAAQH,QAAQI,KAApB;AACA1B,OAAKc,SAAL,GAAgB,EAAhB;AACApB,UAAQ+B,KAAR;AACAH,UAAQI,KAAR,GAAc,GAAd;AACA,EAND;;AAQAJ,SAAQE,gBAAR,CAAyB,OAAzB,EAAkC,UAASG,KAAT,EAAgB;AACjDA,QAAMC,cAAN;AACA,MAAID,MAAME,OAAN,IAAiB,EAArB,EAAyB;AACxBN,aAAUO,KAAV;AACA;AACD,EALD;AAMA,CAnDD;AAoDA","file":"interests_script.js","sourcesContent":["\"use strict\";\n\n(function () {\n\tfunction SendGet(str) {\n\t\tlet strThis=str;\n\t\tlet API_KEY = '5574618-9f2251e0f5fdbede0f9cb5e69';\n\t\tlet URL = \"https://pixabay.com/api/?key=\" + API_KEY + \"&q=\"+encodeURIComponent(strThis);\n\t\tlet grid = document.getElementById('grid');\n\t\tlet myData = fetch(URL)\n\t\t\t.then(function(response) {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t\tthrow new Error('ERROR fetching data!');\n\t\t\t})\n\t\t\t.then(function(data) {\n\t\t\t\t// let grid = document.getElementById('grid');\n\t\t\t\tif(data.hits.length > 0){\n\t\t\t\t\tlet htmlGridTemplate = document.getElementById('template-grid').innerHTML;\n\t\t\t\t\tlet templsteGrid = _.template(htmlGridTemplate);\n\t\t\t\t\tlet Content = templsteGrid({'data': data.hits});\n\t\t\t\t\tgrid.innerHTML = Content;\n\t\t\t\t\treturn grid ;\n\t\t\t\t}else{\n\t\t\t\t\talert('объект не пришел');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\n\t\t\t});\n\n\n\t}\n\tSendGet ('1');\n\n//Запрос по клику на кнопку\n\n\tlet myInput = document.getElementById('textApi');\n\tlet butSearch = document.getElementById('butSearch');\n\tbutSearch.addEventListener('click',function () {\n\n\t\tlet myStr = myInput.value;\n\t\tgrid.innerHTML= '';\n\t\tSendGet(myStr);\n\t\tmyInput.value=\" \";\n\t});\n\n\tmyInput.addEventListener(\"keyup\", function(event) {\n\t\tevent.preventDefault();\n\t\tif (event.keyCode == 13) {\n\t\t\tbutSearch.click();\n\t\t}\n\t});\n})();\n/////////////////////////////////////////////////////////////////////////////////////////\n\n"]}